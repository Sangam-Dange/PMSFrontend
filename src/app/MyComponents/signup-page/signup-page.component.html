<notifier-container></notifier-container>
<div class="container custom-container">
  <div class="text-center mb-2">
    <img src="../assets/images/pharmacybg.png" alt="bg" class="main-bg-image" />
  </div>
  <h3>{{ title }}</h3>
  <div class="typewriter">
    <h5>Trusted Medications, Trusted Results</h5>
  </div>
  <form style="user-select: auto" ngNativeValidate #singUpForm="ngForm">
    <fieldset style="user-select: auto" class="field-div">
      <div class="left">
        <div class="form-group" style="user-select: auto">
          <label for="name" class="form-label mt-4" style="user-select: auto"
            >Full name</label
          >
          <input
            type="text"
            class="form-control"
            id="name"
            placeholder="Enter your full name"
            style="user-select: auto"
            name="name"
            [(ngModel)]="newUser.name"
            required
            #loginName="ngModel"
            [ngClass]="{
              'is-invalid': loginName.invalid && loginName.touched,
              'is-valid': loginName.valid
            }"
          />
          <div
            class="invalid-feedback"
            *ngIf="(loginName.invalid && loginName.touched) || loginName.dirty"
          >
            <small *ngIf="loginName.errors?.required" class="text-danger"
              >Full Name is required</small
            >
          </div>
        </div>
        <div
          class="form-group has-danger has-success"
          style="user-select: auto"
        >
          <label
            for="InputEmail"
            class="form-label mt-4"
            style="user-select: auto"
            >Email address</label
          >
          <input
            type="email"
            class="form-control"
            id="InputEmail"
            aria-describedby="emailHelp"
            placeholder="Enter email"
            style="user-select: auto"
            name="email"
            [(ngModel)]="newUser.email"
            required
            #newUserEmail="ngModel"
            [pattern]="'^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$'"
            [ngClass]="{
              'is-invalid': newUserEmail.invalid && newUserEmail.touched,
              'is-valid': newUserEmail.valid
            }"
          />
          <div
            class="invalid-feedback"
            *ngIf="
              (newUserEmail.invalid && newUserEmail.touched) ||
              newUserEmail.dirty
            "
          >
            <small *ngIf="newUserEmail.errors?.required" class="text-danger"
              >Email is required</small
            >

            <small *ngIf="newUserEmail.errors?.pattern" class="text-danger"
              >Please provide a valid email address</small
            >
          </div>
        </div>
        <div
          class="form-group has-danger has-success"
          style="user-select: auto"
        >
          <label for="contact" class="form-label mt-4" style="user-select: auto"
            >Contact number</label
          >
          <input
            type="tel"
            class="form-control"
            id="contact"
            placeholder="Enter contact number"
            style="user-select: auto"
            name="contact"
            (keypress)="numericOnly($event)"
            [(ngModel)]="newUser.contact"
            required
            #newUserContact="ngModel"
            minlength="10"
            maxlength="10"
            [ngClass]="{
              'is-invalid': newUserContact.invalid && newUserContact.touched,
              'is-valid': newUserContact.valid
            }"
          />
          <div
            class="invalid-feedback"
            *ngIf="
              (newUserContact.invalid && newUserContact.touched) ||
              newUserContact.dirty
            "
          >
            <small *ngIf="newUserContact.errors?.required" class="text-danger"
              >Contact is required</small
            >

            <small
              *ngIf="newUserContact.errors?.['minlength'] ||newUserContact.errors?.['maxlength'] "
              class="text-danger"
              >Contact must be of 10 digit</small
            >
          </div>
        </div>
      </div>
      <div class="right">
        <div class="form-group radio-div" style="user-select: auto">
          <legend class="mt-4" style="user-select: auto">Register as:</legend>
          <div class="radios">
            <div class="form-check" style="user-select: auto">
              <input
                class="form-check-input"
                type="radio"
                name="optionsRadios"
                id="optionsRadios1"
                value="Doctor"
                checked="true"
                style="user-select: auto"
                (change)="onRadioChange($event)"
                required
              />
              <label
                class="form-check-label"
                for="optionsRadios1"
                style="user-select: auto"
              >
                Doctor
              </label>
            </div>
            <div class="form-check" style="user-select: auto">
              <input
                class="form-check-input"
                type="radio"
                name="optionsRadios"
                id="optionsRadios2"
                value="Admin"
                style="user-select: auto"
                (change)="onRadioChange($event)"
                required
              />
              <label
                class="form-check-label"
                for="optionsRadios2"
                style="user-select: auto"
              >
                Admin
              </label>
            </div>
          </div>
        </div>

        <div
          class="form-group has-danger has-success"
          style="user-select: auto"
        >
          <label
            for="InputPassword"
            class="form-label mt-4"
            style="user-select: auto"
            >Password</label
          >
          <input
            type="password"
            class="form-control"
            id="InputPassword"
            placeholder="Password"
            style="user-select: auto"
            name="password"
            [(ngModel)]="newUser.password"
            required
            minlength="8"
            #signUpPass="ngModel"
            [ngClass]="{
              'is-invalid': signUpPass.invalid && signUpPass.touched,
              'is-valid': signUpPass.valid
            }"
          />
          <div
            class="invalid-feedback"
            *ngIf="signUpPass.invalid && signUpPass.touched"
          >
            <small *ngIf="signUpPass.errors?.required" class="text-danger"
              >Password is required</small
            >
            <small *ngIf="signUpPass.errors?.['minlength']" class="text-danger">
              Password should be min 8 characters</small
            >
          </div>
        </div>
      </div>
    </fieldset>
    <div class="bottom">
      <div class="text-center mt-4">
        <button
          type="submit"
          class="btn btn-success px-5 py-2"
          style="user-select: auto"
          (click)="handleSignup()"
          [disabled]="singUpForm.invalid"
        >
          Signup
        </button>
      </div>
      <div
        class="mt-3 w-100 d-flex justify-content-center align-iems-center signup-bottom"
      >
        <small class="text-muted d-inline" style="user-select: auto"
          >Already have an account?</small
        >
        <div class="mx-2">
          <h5
            [routerLink]="'/login'"
            style="user-select: auto d-inline; cursor: pointer"
          >
            login
          </h5>
        </div>
      </div>
    </div>
  </form>
</div>
